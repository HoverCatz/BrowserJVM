const testt = () => {

    const f1 = 1.1234;
    const f2 = 2.2345;

    console.log(`Expected: ${f1 + f2}`)

    const float = new JsFloat(f1);
    float.add(f2);

    return float;
}

const testJavaNumbers = () => {
    numberTests.forEach(item => {
        const f1 = item.f1;
        const f2 = item.f2;
        const f3 = item.f3;
        const gotOut = Number(item.gotOut);
        console.log(`f1: ${f1}, f2: ${f2}, f3: ${f3}, gotOut: ${gotOut}`)

        const jsFloat = new JsFloat(f1);
        jsFloat.add(Number(f2));
        console.log(`jsFloat: ${jsFloat.value}, success: ${jsFloat.value === gotOut}`)

        console.log('')
    })
}

class JsFloat {

    /**
     * Raw float value (123.45)
     * @type {number}
     */
    value;

    /**
     * Raw bits (01001010100000010010001100000000)
     * @type {string}
     **/
    bits;

    constructor(value) {
        this.bits = this.valueToBits(value);
        this.value = this.bitsToValue(this.bits);
    }

    sub(other) {
        return this.add(other, true);
    }

    /**
     * Adds a float to this value.
     * Does not return a new instance.
     * @param other {number|string}
     * @param isSubtraction {boolean}
     */
    add(other, isSubtraction = false) {
        if (typeof other === 'number')
            other = this.valueToBits(other);

        if (isSubtraction) {
            // Flip the sign bit for subtraction
            other = (other[0] === '0' ? '1' : '0') + other.substring(1);
        }

        let bin1 = this.bits;
        let bin2 = other;

        const exponentBias = 127;

        console.log(`bin1: ${bin1}`)
        console.log(`bin2: ${bin2}`)

        // Extract sign, exponent, and mantissa from both binary float values
        let sign1 = parseInt(bin1.substring(0, 1));
        let exp1 = parseInt(bin1.substring(1, 9), 2) - exponentBias;
        let mantissa1 = '1' + bin1.substring(9);

        let sign2 = parseInt(bin2.substring(0, 1));
        let exp2 = parseInt(bin2.substring(1, 9), 2) - exponentBias;
        let mantissa2 = '1' + bin2.substring(9);

        // Align exponents and shift mantissas accordingly
        while (exp1 < exp2) {
            mantissa1 = '0' + mantissa1;
            exp1++;
        }

        while (exp2 < exp1) {
            mantissa2 = '0' + mantissa2;
            exp2++;
        }

        // Ensure both mantissas have the same length by adding zeros to the right
        while (mantissa1.length < mantissa2.length) {
            mantissa1 += '0';
        }

        while (mantissa2.length < mantissa1.length) {
            mantissa2 += '0';
        }

        // Compare mantissas and swap values if necessary
        if (sign1 !== sign2 && mantissa1.localeCompare(mantissa2) < 0) {
            [sign1, exp1, mantissa1, sign2, exp2, mantissa2] = [sign2, exp2, mantissa2, sign1, exp1, mantissa1];
        }

        // Add or subtract mantissas depending on the signs
        let resultMantissa = '';
        if (sign1 === sign2) {
            let carry = 0;
            for (let i = mantissa1.length - 1; i >= 0; i--) {
                let sum = parseInt(mantissa1[i]) + parseInt(mantissa2[i]) + carry;
                carry = Math.floor(sum / 2);
                resultMantissa = (sum % 2) + resultMantissa;
            }

            // Add the carry to the leftmost bit and adjust the exponent
            if (carry === 1) {
                resultMantissa = carry + resultMantissa;
                exp1++;
            }

            // Normalize the mantissa to have 24 bits
            while (resultMantissa.length > 24) {
                resultMantissa = resultMantissa.slice(0, -1);
            }
        } else {
            for (let i = mantissa1.length - 1; i >= 0; i--) {
                let diff = parseInt(mantissa1[i]) - parseInt(mantissa2[i]);
                if (diff < 0) {
                    mantissa1 = this.borrowFromLeft(i, mantissa1);
                    diff += 2;
                }
                resultMantissa = diff.toString() + resultMantissa;
            }
        }

        // Normalize the result
        while (resultMantissa[0] === '0' && exp1 > -exponentBias) {
            resultMantissa = resultMantissa.substring(1);
            exp1--;
        }

        // Assemble the resulting binary float value
        const resultExp = ('00000000' + (exp1 + exponentBias).toString(2)).slice(-8);
        const resultBits = sign1.toString() + resultExp + resultMantissa.substring(1);

        this.bits = resultBits;
        this.value = this.bitsToValue(resultBits);
    }

    borrowFromLeft(index, mantissa) {
        for (let i = index - 1; i >= 0; i--) {
            if (mantissa[i] === '1') {
                mantissa = mantissa.substring(0, i) + '0' + mantissa.substring(i + 1);
                break;
            }
            mantissa = mantissa.substring(0, i) + '1' + mantissa.substring(i + 1);
        }
        return mantissa;
    }

    valueToBits(f) {
        const floatArray = new Float32Array(1);
        floatArray[0] = f;
        const intArray = new Uint32Array(floatArray.buffer);
        return intArray[0].toString(2).padStart(32, '0');
    }

    bitsToValue(bits) {
        const sign = (bits[0] === '1') ? -1 : 1;
        const exponentBits = bits.slice(1, 9);
        const mantissaBits = bits.slice(9);

        const exponent = parseInt(exponentBits, 2) - 127;
        const mantissa = parseInt(mantissaBits, 2) / Math.pow(2, mantissaBits.length);

        if (exponent === -127) {
            return sign * mantissa * Math.pow(2, -126);
        } else {
            return sign * (1 + mantissa) * Math.pow(2, exponent);
        }
    }

}

const numberTests = [
    {
        'type': 'error',
        'f1': '1326811392.00000',
        'f2': '1.00000',
        'f3': '1326811392.00000',
        'gotOut': '1326811392.00000',
        'expectedOut': '1326811393.00000',
    },
    {
        'type': 'error',
        'f1': '1447848704.00000',
        'f2': '0.50000',
        'f3': '1447848704.00000',
        'gotOut': '1447848704.00000',
        'expectedOut': '1447848704.50000',
    },
    {
        'type': 'error',
        'f1': '1886254208.00000',
        'f2': '1.00000',
        'f3': '1886254208.00000',
        'gotOut': '1886254208.00000',
        'expectedOut': '1886254209.00000',
    },
    {
        'type': 'error',
        'f1': '1268875264.00000',
        'f2': '1.00000',
        'f3': '1268875264.00000',
        'gotOut': '1268875264.00000',
        'expectedOut': '1268875265.00000',
    },
    {
        'type': 'error',
        'f1': '1785963648.00000',
        'f2': '0.50000',
        'f3': '1785963648.00000',
        'gotOut': '1785963648.00000',
        'expectedOut': '1785963648.50000',
    },
    {
        'type': 'error',
        'f1': '1380653056.00000',
        'f2': '0.50000',
        'f3': '1380653056.00000',
        'gotOut': '1380653056.00000',
        'expectedOut': '1380653056.50000',
    },
    {
        'type': 'error',
        'f1': '888819328.00000',
        'f2': '0.50000',
        'f3': '888819328.00000',
        'gotOut': '888819328.00000',
        'expectedOut': '888819328.50000',
    },
    {
        'type': 'error',
        'f1': '1322411008.00000',
        'f2': '1.00000',
        'f3': '1322411008.00000',
        'gotOut': '1322411008.00000',
        'expectedOut': '1322411009.00000',
    },
    {
        'type': 'error',
        'f1': '1412455680.00000',
        'f2': '1.00000',
        'f3': '1412455680.00000',
        'gotOut': '1412455680.00000',
        'expectedOut': '1412455681.00000',
    },
    {
        'type': 'error',
        'f1': '1223620480.00000',
        'f2': '1.00000',
        'f3': '1223620480.00000',
        'gotOut': '1223620480.00000',
        'expectedOut': '1223620481.00000',
    },
    {
        'type': 'error',
        'f1': '417563520.00000',
        'f2': '0.50000',
        'f3': '417563520.00000',
        'gotOut': '417563520.00000',
        'expectedOut': '417563520.50000',
    },
    {
        'type': 'error',
        'f1': '2017022464.00000',
        'f2': '1.00000',
        'f3': '2017022464.00000',
        'gotOut': '2017022464.00000',
        'expectedOut': '2017022465.00000',
    },
    {
        'type': 'error',
        'f1': '1877766528.00000',
        'f2': '0.50000',
        'f3': '1877766528.00000',
        'gotOut': '1877766528.00000',
        'expectedOut': '1877766528.50000',
    },
    {
        'type': 'error',
        'f1': '2064358656.00000',
        'f2': '0.50000',
        'f3': '2064358656.00000',
        'gotOut': '2064358656.00000',
        'expectedOut': '2064358656.50000',
    },
    {
        'type': 'error',
        'f1': '411194368.00000',
        'f2': '1.00000',
        'f3': '411194368.00000',
        'gotOut': '411194368.00000',
        'expectedOut': '411194369.00000',
    },
    {
        'type': 'error',
        'f1': '2089655552.00000',
        'f2': '1.00000',
        'f3': '2089655552.00000',
        'gotOut': '2089655552.00000',
        'expectedOut': '2089655553.00000',
    },
    {
        'type': 'error',
        'f1': '793769472.00000',
        'f2': '1.00000',
        'f3': '793769472.00000',
        'gotOut': '793769472.00000',
        'expectedOut': '793769473.00000',
    },
    {
        'type': 'error',
        'f1': '444005120.00000',
        'f2': '0.50000',
        'f3': '444005120.00000',
        'gotOut': '444005120.00000',
        'expectedOut': '444005120.50000',
    },
    {
        'type': 'error',
        'f1': '1185904640.00000',
        'f2': '0.50000',
        'f3': '1185904640.00000',
        'gotOut': '1185904640.00000',
        'expectedOut': '1185904640.50000',
    },
    {
        'type': 'error',
        'f1': '1566777600.00000',
        'f2': '0.50000',
        'f3': '1566777600.00000',
        'gotOut': '1566777600.00000',
        'expectedOut': '1566777600.50000',
    },
    {
        'type': 'error',
        'f1': '1485744384.00000',
        'f2': '0.50000',
        'f3': '1485744384.00000',
        'gotOut': '1485744384.00000',
        'expectedOut': '1485744384.50000',
    },
    {
        'type': 'error',
        'f1': '2042894336.00000',
        'f2': '0.50000',
        'f3': '2042894336.00000',
        'gotOut': '2042894336.00000',
        'expectedOut': '2042894336.50000',
    },
    {
        'type': 'error',
        'f1': '55392640.00000',
        'f2': '1.00000',
        'f3': '55392640.00000',
        'gotOut': '55392640.00000',
        'expectedOut': '55392641.00000',
    },
    {
        'type': 'error',
        'f1': '1068882304.00000',
        'f2': '1.00000',
        'f3': '1068882304.00000',
        'gotOut': '1068882304.00000',
        'expectedOut': '1068882305.00000',
    },
    {
        'type': 'error',
        'f1': '1367807360.00000',
        'f2': '0.50000',
        'f3': '1367807360.00000',
        'gotOut': '1367807360.00000',
        'expectedOut': '1367807360.50000',
    },
    {
        'type': 'error',
        'f1': '726255488.00000',
        'f2': '1.00000',
        'f3': '726255488.00000',
        'gotOut': '726255488.00000',
        'expectedOut': '726255489.00000',
    },
    {
        'type': 'error',
        'f1': '1347443200.00000',
        'f2': '1.00000',
        'f3': '1347443200.00000',
        'gotOut': '1347443200.00000',
        'expectedOut': '1347443201.00000',
    },
    {
        'type': 'error',
        'f1': '1031405184.00000',
        'f2': '1.00000',
        'f3': '1031405184.00000',
        'gotOut': '1031405184.00000',
        'expectedOut': '1031405185.00000',
    },
    {
        'type': 'error',
        'f1': '218986752.00000',
        'f2': '0.50000',
        'f3': '218986752.00000',
        'gotOut': '218986752.00000',
        'expectedOut': '218986752.50000',
    },
    {
        'type': 'error',
        'f1': '1508797568.00000',
        'f2': '1.00000',
        'f3': '1508797568.00000',
        'gotOut': '1508797568.00000',
        'expectedOut': '1508797569.00000',
    },
    {
        'type': 'error',
        'f1': '183057664.00000',
        'f2': '1.00000',
        'f3': '183057664.00000',
        'gotOut': '183057664.00000',
        'expectedOut': '183057665.00000',
    },
    {
        'type': 'error',
        'f1': '188328960.00000',
        'f2': '1.00000',
        'f3': '188328960.00000',
        'gotOut': '188328960.00000',
        'expectedOut': '188328961.00000',
    },
    {
        'type': 'error',
        'f1': '2031319040.00000',
        'f2': '0.50000',
        'f3': '2031319040.00000',
        'gotOut': '2031319040.00000',
        'expectedOut': '2031319040.50000',
    },
    {
        'type': 'error',
        'f1': '475120384.00000',
        'f2': '0.50000',
        'f3': '475120384.00000',
        'gotOut': '475120384.00000',
        'expectedOut': '475120384.50000',
    },
    {
        'type': 'error',
        'f1': '26107520.00000',
        'f2': '0.50000',
        'f3': '26107520.00000',
        'gotOut': '26107520.00000',
        'expectedOut': '26107520.50000',
    },
    {
        'type': 'error',
        'f1': '48828160.00000',
        'f2': '0.50000',
        'f3': '48828160.00000',
        'gotOut': '48828160.00000',
        'expectedOut': '48828160.50000',
    },
    {
        'type': 'error',
        'f1': '293441792.00000',
        'f2': '0.50000',
        'f3': '293441792.00000',
        'gotOut': '293441792.00000',
        'expectedOut': '293441792.50000',
    },
    {
        'type': 'error',
        'f1': '487437312.00000',
        'f2': '0.50000',
        'f3': '487437312.00000',
        'gotOut': '487437312.00000',
        'expectedOut': '487437312.50000',
    },
    {
        'type': 'error',
        'f1': '1456016896.00000',
        'f2': '0.50000',
        'f3': '1456016896.00000',
        'gotOut': '1456016896.00000',
        'expectedOut': '1456016896.50000',
    },
    {
        'type': 'error',
        'f1': '1094327680.00000',
        'f2': '1.00000',
        'f3': '1094327680.00000',
        'gotOut': '1094327680.00000',
        'expectedOut': '1094327681.00000',
    },
    {
        'type': 'error',
        'f1': '77029504.00000',
        'f2': '1.00000',
        'f3': '77029504.00000',
        'gotOut': '77029504.00000',
        'expectedOut': '77029505.00000',
    },
    {
        'type': 'error',
        'f1': '820456704.00000',
        'f2': '1.00000',
        'f3': '820456704.00000',
        'gotOut': '820456704.00000',
        'expectedOut': '820456705.00000',
    },
    {
        'type': 'error',
        'f1': '1539666816.00000',
        'f2': '1.00000',
        'f3': '1539666816.00000',
        'gotOut': '1539666816.00000',
        'expectedOut': '1539666817.00000',
    },
    {
        'type': 'error',
        'f1': '47764352.00000',
        'f2': '1.00000',
        'f3': '47764352.00000',
        'gotOut': '47764352.00000',
        'expectedOut': '47764353.00000',
    },
    {
        'type': 'error',
        'f1': '590850048.00000',
        'f2': '0.50000',
        'f3': '590850048.00000',
        'gotOut': '590850048.00000',
        'expectedOut': '590850048.50000',
    },
    {
        'type': 'error',
        'f1': '1441269120.00000',
        'f2': '1.00000',
        'f3': '1441269120.00000',
        'gotOut': '1441269120.00000',
        'expectedOut': '1441269121.00000',
    },
    {
        'type': 'error',
        'f1': '214358400.00000',
        'f2': '1.00000',
        'f3': '214358400.00000',
        'gotOut': '214358400.00000',
        'expectedOut': '214358401.00000',
    },
    {
        'type': 'error',
        'f1': '1394145664.00000',
        'f2': '0.50000',
        'f3': '1394145664.00000',
        'gotOut': '1394145664.00000',
        'expectedOut': '1394145664.50000',
    },
    {
        'type': 'error',
        'f1': '667229952.00000',
        'f2': '0.50000',
        'f3': '667229952.00000',
        'gotOut': '667229952.00000',
        'expectedOut': '667229952.50000',
    },
    {
        'type': 'error',
        'f1': '477816448.00000',
        'f2': '1.00000',
        'f3': '477816448.00000',
        'gotOut': '477816448.00000',
        'expectedOut': '477816449.00000',
    },
    {
        'type': 'error',
        'f1': '482428032.00000',
        'f2': '0.50000',
        'f3': '482428032.00000',
        'gotOut': '482428032.00000',
        'expectedOut': '482428032.50000',
    },
    {
        'type': 'error',
        'f1': '1706979840.00000',
        'f2': '1.00000',
        'f3': '1706979840.00000',
        'gotOut': '1706979840.00000',
        'expectedOut': '1706979841.00000',
    },
    {
        'type': 'error',
        'f1': '879560960.00000',
        'f2': '1.00000',
        'f3': '879560960.00000',
        'gotOut': '879560960.00000',
        'expectedOut': '879560961.00000',
    },
    {
        'type': 'error',
        'f1': '633486976.00000',
        'f2': '0.50000',
        'f3': '633486976.00000',
        'gotOut': '633486976.00000',
        'expectedOut': '633486976.50000',
    },
    {
        'type': 'error',
        'f1': '75058688.00000',
        'f2': '1.00000',
        'f3': '75058688.00000',
        'gotOut': '75058688.00000',
        'expectedOut': '75058689.00000',
    },
    {
        'type': 'error',
        'f1': '564728192.00000',
        'f2': '1.00000',
        'f3': '564728192.00000',
        'gotOut': '564728192.00000',
        'expectedOut': '564728193.00000',
    },
    {
        'type': 'error',
        'f1': '1107073024.00000',
        'f2': '0.50000',
        'f3': '1107073024.00000',
        'gotOut': '1107073024.00000',
        'expectedOut': '1107073024.50000',
    },
    {
        'type': 'error',
        'f1': '813906816.00000',
        'f2': '0.50000',
        'f3': '813906816.00000',
        'gotOut': '813906816.00000',
        'expectedOut': '813906816.50000',
    },
    {
        'type': 'error',
        'f1': '1420510720.00000',
        'f2': '0.50000',
        'f3': '1420510720.00000',
        'gotOut': '1420510720.00000',
        'expectedOut': '1420510720.50000',
    },
    {
        'type': 'error',
        'f1': '1917647744.00000',
        'f2': '1.00000',
        'f3': '1917647744.00000',
        'gotOut': '1917647744.00000',
        'expectedOut': '1917647745.00000',
    },
    {
        'type': 'error',
        'f1': '367924480.00000',
        'f2': '1.00000',
        'f3': '367924480.00000',
        'gotOut': '367924480.00000',
        'expectedOut': '367924481.00000',
    },
    {
        'type': 'error',
        'f1': '538823552.00000',
        'f2': '0.50000',
        'f3': '538823552.00000',
        'gotOut': '538823552.00000',
        'expectedOut': '538823552.50000',
    },
    {
        'type': 'error',
        'f1': '433759488.00000',
        'f2': '1.00000',
        'f3': '433759488.00000',
        'gotOut': '433759488.00000',
        'expectedOut': '433759489.00000',
    },
    {
        'type': 'error',
        'f1': '1778419840.00000',
        'f2': '0.50000',
        'f3': '1778419840.00000',
        'gotOut': '1778419840.00000',
        'expectedOut': '1778419840.50000',
    },
    {
        'type': 'error',
        'f1': '928697984.00000',
        'f2': '0.50000',
        'f3': '928697984.00000',
        'gotOut': '928697984.00000',
        'expectedOut': '928697984.50000',
    },
    {
        'type': 'error',
        'f1': '2133502336.00000',
        'f2': '0.50000',
        'f3': '2133502336.00000',
        'gotOut': '2133502336.00000',
        'expectedOut': '2133502336.50000',
    },
    {
        'type': 'error',
        'f1': '1938471552.00000',
        'f2': '0.50000',
        'f3': '1938471552.00000',
        'gotOut': '1938471552.00000',
        'expectedOut': '1938471552.50000',
    },
    {
        'type': 'error',
        'f1': '390641024.00000',
        'f2': '0.50000',
        'f3': '390641024.00000',
        'gotOut': '390641024.00000',
        'expectedOut': '390641024.50000',
    },
    {
        'type': 'error',
        'f1': '1067634944.00000',
        'f2': '1.00000',
        'f3': '1067634944.00000',
        'gotOut': '1067634944.00000',
        'expectedOut': '1067634945.00000',
    },
    {
        'type': 'error',
        'f1': '964193664.00000',
        'f2': '1.00000',
        'f3': '964193664.00000',
        'gotOut': '964193664.00000',
        'expectedOut': '964193665.00000',
    },
    {
        'type': 'error',
        'f1': '398568576.00000',
        'f2': '1.00000',
        'f3': '398568576.00000',
        'gotOut': '398568576.00000',
        'expectedOut': '398568577.00000',
    },
    {
        'type': 'error',
        'f1': '728570112.00000',
        'f2': '0.50000',
        'f3': '728570112.00000',
        'gotOut': '728570112.00000',
        'expectedOut': '728570112.50000',
    },
    {
        'type': 'error',
        'f1': '1287350400.00000',
        'f2': '1.00000',
        'f3': '1287350400.00000',
        'gotOut': '1287350400.00000',
        'expectedOut': '1287350401.00000',
    },
    {
        'type': 'error',
        'f1': '658548864.00000',
        'f2': '1.00000',
        'f3': '658548864.00000',
        'gotOut': '658548864.00000',
        'expectedOut': '658548865.00000',
    },
    {
        'type': 'error',
        'f1': '1456913152.00000',
        'f2': '1.00000',
        'f3': '1456913152.00000',
        'gotOut': '1456913152.00000',
        'expectedOut': '1456913153.00000',
    },
    {
        'type': 'error',
        'f1': '817652224.00000',
        'f2': '0.50000',
        'f3': '817652224.00000',
        'gotOut': '817652224.00000',
        'expectedOut': '817652224.50000',
    },
    {
        'type': 'error',
        'f1': '1211459712.00000',
        'f2': '1.00000',
        'f3': '1211459712.00000',
        'gotOut': '1211459712.00000',
        'expectedOut': '1211459713.00000',
    },
    {
        'type': 'error',
        'f1': '93193472.00000',
        'f2': '0.50000',
        'f3': '93193472.00000',
        'gotOut': '93193472.00000',
        'expectedOut': '93193472.50000',
    },
    {
        'type': 'error',
        'f1': '1387056128.00000',
        'f2': '0.50000',
        'f3': '1387056128.00000',
        'gotOut': '1387056128.00000',
        'expectedOut': '1387056128.50000',
    },
    {
        'type': 'error',
        'f1': '319446400.00000',
        'f2': '1.00000',
        'f3': '319446400.00000',
        'gotOut': '319446400.00000',
        'expectedOut': '319446401.00000',
    },
    {
        'type': 'error',
        'f1': '657210112.00000',
        'f2': '0.50000',
        'f3': '657210112.00000',
        'gotOut': '657210112.00000',
        'expectedOut': '657210112.50000',
    },
    {
        'type': 'error',
        'f1': '502035072.00000',
        'f2': '0.50000',
        'f3': '502035072.00000',
        'gotOut': '502035072.00000',
        'expectedOut': '502035072.50000',
    },
    {
        'type': 'error',
        'f1': '2140815488.00000',
        'f2': '0.50000',
        'f3': '2140815488.00000',
        'gotOut': '2140815488.00000',
        'expectedOut': '2140815488.50000',
    },
    {
        'type': 'error',
        'f1': '621840000.00000',
        'f2': '0.50000',
        'f3': '621840000.00000',
        'gotOut': '621840000.00000',
        'expectedOut': '621840000.50000',
    },
    {
        'type': 'error',
        'f1': '1013889664.00000',
        'f2': '0.50000',
        'f3': '1013889664.00000',
        'gotOut': '1013889664.00000',
        'expectedOut': '1013889664.50000',
    },
    {
        'type': 'error',
        'f1': '698111872.00000',
        'f2': '1.00000',
        'f3': '698111872.00000',
        'gotOut': '698111872.00000',
        'expectedOut': '698111873.00000',
    },
    {
        'type': 'error',
        'f1': '744427392.00000',
        'f2': '1.00000',
        'f3': '744427392.00000',
        'gotOut': '744427392.00000',
        'expectedOut': '744427393.00000',
    },
    {
        'type': 'error',
        'f1': '427432192.00000',
        'f2': '0.50000',
        'f3': '427432192.00000',
        'gotOut': '427432192.00000',
        'expectedOut': '427432192.50000',
    },
    {
        'type': 'error',
        'f1': '793956224.00000',
        'f2': '1.00000',
        'f3': '793956224.00000',
        'gotOut': '793956224.00000',
        'expectedOut': '793956225.00000',
    },
    {
        'type': 'error',
        'f1': '1788988288.00000',
        'f2': '0.50000',
        'f3': '1788988288.00000',
        'gotOut': '1788988288.00000',
        'expectedOut': '1788988288.50000',
    },
    {
        'type': 'error',
        'f1': '967453568.00000',
        'f2': '0.50000',
        'f3': '967453568.00000',
        'gotOut': '967453568.00000',
        'expectedOut': '967453568.50000',
    },
    {
        'type': 'error',
        'f1': '377795712.00000',
        'f2': '0.50000',
        'f3': '377795712.00000',
        'gotOut': '377795712.00000',
        'expectedOut': '377795712.50000',
    },
    {
        'type': 'error',
        'f1': '650435840.00000',
        'f2': '1.00000',
        'f3': '650435840.00000',
        'gotOut': '650435840.00000',
        'expectedOut': '650435841.00000',
    },
    {
        'type': 'error',
        'f1': '120117760.00000',
        'f2': '0.50000',
        'f3': '120117760.00000',
        'gotOut': '120117760.00000',
        'expectedOut': '120117760.50000',
    },
    {
        'type': 'error',
        'f1': '1489972608.00000',
        'f2': '1.00000',
        'f3': '1489972608.00000',
        'gotOut': '1489972608.00000',
        'expectedOut': '1489972609.00000',
    },
    {
        'type': 'error',
        'f1': '524189440.00000',
        'f2': '0.50000',
        'f3': '524189440.00000',
        'gotOut': '524189440.00000',
        'expectedOut': '524189440.50000',
    },
    {
        'type': 'error',
        'f1': '960752768.00000',
        'f2': '0.50000',
        'f3': '960752768.00000',
        'gotOut': '960752768.00000',
        'expectedOut': '960752768.50000',
    },
    {
        'type': 'error',
        'f1': '1775749760.00000',
        'f2': '1.00000',
        'f3': '1775749760.00000',
        'gotOut': '1775749760.00000',
        'expectedOut': '1775749761.00000',
    },
    {
        'type': 'error',
        'f1': '476924544.00000',
        'f2': '0.50000',
        'f3': '476924544.00000',
        'gotOut': '476924544.00000',
        'expectedOut': '476924544.50000',
    },
    {
        'type': 'success',
        'f1': '8311168.00000',
        'f2': '1.00000',
        'f3': '8311169.00000',
        'gotOut': '8311169.00000',
        'expectedOut': '8311169.00000',
    },
    {
        'type': 'success',
        'f1': '2242560.00000',
        'f2': '0.50000',
        'f3': '2242560.50000',
        'gotOut': '2242560.50000',
        'expectedOut': '2242560.50000',
    },
    {
        'type': 'success',
        'f1': '4387328.00000',
        'f2': '1.00000',
        'f3': '4387329.00000',
        'gotOut': '4387329.00000',
        'expectedOut': '4387329.00000',
    },
    {
        'type': 'success',
        'f1': '4628992.00000',
        'f2': '1.00000',
        'f3': '4628993.00000',
        'gotOut': '4628993.00000',
        'expectedOut': '4628993.00000',
    },
    {
        'type': 'success',
        'f1': '12827264.00000',
        'f2': '1.00000',
        'f3': '12827265.00000',
        'gotOut': '12827265.00000',
        'expectedOut': '12827265.00000',
    },
    {
        'type': 'success',
        'f1': '2296960.00000',
        'f2': '0.50000',
        'f3': '2296960.50000',
        'gotOut': '2296960.50000',
        'expectedOut': '2296960.50000',
    },
    {
        'type': 'success',
        'f1': '16354816.00000',
        'f2': '1.00000',
        'f3': '16354817.00000',
        'gotOut': '16354817.00000',
        'expectedOut': '16354817.00000',
    },
    {
        'type': 'success',
        'f1': '243712.00000',
        'f2': '1.00000',
        'f3': '243713.00000',
        'gotOut': '243713.00000',
        'expectedOut': '243713.00000',
    },
    {
        'type': 'success',
        'f1': '378752.00000',
        'f2': '0.50000',
        'f3': '378752.50000',
        'gotOut': '378752.50000',
        'expectedOut': '378752.50000',
    },
    {
        'type': 'success',
        'f1': '2475776.00000',
        'f2': '1.00000',
        'f3': '2475777.00000',
        'gotOut': '2475777.00000',
        'expectedOut': '2475777.00000',
    },
    {
        'type': 'success',
        'f1': '3048704.00000',
        'f2': '1.00000',
        'f3': '3048705.00000',
        'gotOut': '3048705.00000',
        'expectedOut': '3048705.00000',
    },
    {
        'type': 'success',
        'f1': '1089280.00000',
        'f2': '1.00000',
        'f3': '1089281.00000',
        'gotOut': '1089281.00000',
        'expectedOut': '1089281.00000',
    },
    {
        'type': 'success',
        'f1': '6680320.00000',
        'f2': '1.00000',
        'f3': '6680321.00000',
        'gotOut': '6680321.00000',
        'expectedOut': '6680321.00000',
    },
    {
        'type': 'success',
        'f1': '7587200.00000',
        'f2': '1.00000',
        'f3': '7587201.00000',
        'gotOut': '7587201.00000',
        'expectedOut': '7587201.00000',
    },
    {
        'type': 'success',
        'f1': '4348928.00000',
        'f2': '0.50000',
        'f3': '4348928.50000',
        'gotOut': '4348928.50000',
        'expectedOut': '4348928.50000',
    },
    {
        'type': 'success',
        'f1': '6624000.00000',
        'f2': '1.00000',
        'f3': '6624001.00000',
        'gotOut': '6624001.00000',
        'expectedOut': '6624001.00000',
    },
    {
        'type': 'success',
        'f1': '7731712.00000',
        'f2': '0.50000',
        'f3': '7731712.50000',
        'gotOut': '7731712.50000',
        'expectedOut': '7731712.50000',
    },
    {
        'type': 'success',
        'f1': '9858048.00000',
        'f2': '1.00000',
        'f3': '9858049.00000',
        'gotOut': '9858049.00000',
        'expectedOut': '9858049.00000',
    },
    {
        'type': 'success',
        'f1': '7114496.00000',
        'f2': '0.50000',
        'f3': '7114496.50000',
        'gotOut': '7114496.50000',
        'expectedOut': '7114496.50000',
    },
    {
        'type': 'success',
        'f1': '761344.00000',
        'f2': '1.00000',
        'f3': '761345.00000',
        'gotOut': '761345.00000',
        'expectedOut': '761345.00000',
    },
    {
        'type': 'success',
        'f1': '15274752.00000',
        'f2': '1.00000',
        'f3': '15274753.00000',
        'gotOut': '15274753.00000',
        'expectedOut': '15274753.00000',
    },
    {
        'type': 'success',
        'f1': '5745152.00000',
        'f2': '0.50000',
        'f3': '5745152.50000',
        'gotOut': '5745152.50000',
        'expectedOut': '5745152.50000',
    },
    {
        'type': 'success',
        'f1': '184704.00000',
        'f2': '0.50000',
        'f3': '184704.50000',
        'gotOut': '184704.50000',
        'expectedOut': '184704.50000',
    },
    {
        'type': 'success',
        'f1': '4850304.00000',
        'f2': '0.50000',
        'f3': '4850304.50000',
        'gotOut': '4850304.50000',
        'expectedOut': '4850304.50000',
    },
    {
        'type': 'success',
        'f1': '11967872.00000',
        'f2': '1.00000',
        'f3': '11967873.00000',
        'gotOut': '11967873.00000',
        'expectedOut': '11967873.00000',
    },
    {
        'type': 'success',
        'f1': '8752896.00000',
        'f2': '1.00000',
        'f3': '8752897.00000',
        'gotOut': '8752897.00000',
        'expectedOut': '8752897.00000',
    },
    {
        'type': 'success',
        'f1': '3969024.00000',
        'f2': '1.00000',
        'f3': '3969025.00000',
        'gotOut': '3969025.00000',
        'expectedOut': '3969025.00000',
    },
    {
        'type': 'success',
        'f1': '1601792.00000',
        'f2': '1.00000',
        'f3': '1601793.00000',
        'gotOut': '1601793.00000',
        'expectedOut': '1601793.00000',
    },
    {
        'type': 'success',
        'f1': '252288.00000',
        'f2': '1.00000',
        'f3': '252289.00000',
        'gotOut': '252289.00000',
        'expectedOut': '252289.00000',
    },
    {
        'type': 'success',
        'f1': '5992064.00000',
        'f2': '1.00000',
        'f3': '5992065.00000',
        'gotOut': '5992065.00000',
        'expectedOut': '5992065.00000',
    },
    {
        'type': 'success',
        'f1': '8564224.00000',
        'f2': '1.00000',
        'f3': '8564225.00000',
        'gotOut': '8564225.00000',
        'expectedOut': '8564225.00000',
    },
    {
        'type': 'success',
        'f1': '7972352.00000',
        'f2': '1.00000',
        'f3': '7972353.00000',
        'gotOut': '7972353.00000',
        'expectedOut': '7972353.00000',
    },
    {
        'type': 'success',
        'f1': '5493248.00000',
        'f2': '0.50000',
        'f3': '5493248.50000',
        'gotOut': '5493248.50000',
        'expectedOut': '5493248.50000',
    },
    {
        'type': 'success',
        'f1': '10618880.00000',
        'f2': '1.00000',
        'f3': '10618881.00000',
        'gotOut': '10618881.00000',
        'expectedOut': '10618881.00000',
    },
    {
        'type': 'success',
        'f1': '8344832.00000',
        'f2': '0.50000',
        'f3': '8344832.50000',
        'gotOut': '8344832.50000',
        'expectedOut': '8344832.50000',
    },
    {
        'type': 'success',
        'f1': '6466048.00000',
        'f2': '0.50000',
        'f3': '6466048.50000',
        'gotOut': '6466048.50000',
        'expectedOut': '6466048.50000',
    },
    {
        'type': 'success',
        'f1': '8671232.00000',
        'f2': '1.00000',
        'f3': '8671233.00000',
        'gotOut': '8671233.00000',
        'expectedOut': '8671233.00000',
    },
    {
        'type': 'success',
        'f1': '4095104.00000',
        'f2': '1.00000',
        'f3': '4095105.00000',
        'gotOut': '4095105.00000',
        'expectedOut': '4095105.00000',
    },
    {
        'type': 'success',
        'f1': '3429760.00000',
        'f2': '0.50000',
        'f3': '3429760.50000',
        'gotOut': '3429760.50000',
        'expectedOut': '3429760.50000',
    },
    {
        'type': 'success',
        'f1': '2431232.00000',
        'f2': '0.50000',
        'f3': '2431232.50000',
        'gotOut': '2431232.50000',
        'expectedOut': '2431232.50000',
    },
    {
        'type': 'success',
        'f1': '1456512.00000',
        'f2': '0.50000',
        'f3': '1456512.50000',
        'gotOut': '1456512.50000',
        'expectedOut': '1456512.50000',
    },
    {
        'type': 'success',
        'f1': '6581504.00000',
        'f2': '1.00000',
        'f3': '6581505.00000',
        'gotOut': '6581505.00000',
        'expectedOut': '6581505.00000',
    },
    {
        'type': 'success',
        'f1': '2341504.00000',
        'f2': '0.50000',
        'f3': '2341504.50000',
        'gotOut': '2341504.50000',
        'expectedOut': '2341504.50000',
    },
    {
        'type': 'success',
        'f1': '13236992.00000',
        'f2': '1.00000',
        'f3': '13236993.00000',
        'gotOut': '13236993.00000',
        'expectedOut': '13236993.00000',
    },
    {
        'type': 'success',
        'f1': '7730304.00000',
        'f2': '0.50000',
        'f3': '7730304.50000',
        'gotOut': '7730304.50000',
        'expectedOut': '7730304.50000',
    },
    {
        'type': 'success',
        'f1': '9609984.00000',
        'f2': '1.00000',
        'f3': '9609985.00000',
        'gotOut': '9609985.00000',
        'expectedOut': '9609985.00000',
    },
    {
        'type': 'success',
        'f1': '13375616.00000',
        'f2': '1.00000',
        'f3': '13375617.00000',
        'gotOut': '13375617.00000',
        'expectedOut': '13375617.00000',
    },
    {
        'type': 'success',
        'f1': '208768.00000',
        'f2': '1.00000',
        'f3': '208769.00000',
        'gotOut': '208769.00000',
        'expectedOut': '208769.00000',
    },
    {
        'type': 'success',
        'f1': '7982592.00000',
        'f2': '0.50000',
        'f3': '7982592.50000',
        'gotOut': '7982592.50000',
        'expectedOut': '7982592.50000',
    },
    {
        'type': 'success',
        'f1': '4692352.00000',
        'f2': '1.00000',
        'f3': '4692353.00000',
        'gotOut': '4692353.00000',
        'expectedOut': '4692353.00000',
    },
    {
        'type': 'success',
        'f1': '1884032.00000',
        'f2': '0.50000',
        'f3': '1884032.50000',
        'gotOut': '1884032.50000',
        'expectedOut': '1884032.50000',
    },
    {
        'type': 'success',
        'f1': '2691712.00000',
        'f2': '1.00000',
        'f3': '2691713.00000',
        'gotOut': '2691713.00000',
        'expectedOut': '2691713.00000',
    },
    {
        'type': 'success',
        'f1': '6462592.00000',
        'f2': '1.00000',
        'f3': '6462593.00000',
        'gotOut': '6462593.00000',
        'expectedOut': '6462593.00000',
    },
    {
        'type': 'success',
        'f1': '5392640.00000',
        'f2': '1.00000',
        'f3': '5392641.00000',
        'gotOut': '5392641.00000',
        'expectedOut': '5392641.00000',
    },
    {
        'type': 'success',
        'f1': '3411840.00000',
        'f2': '0.50000',
        'f3': '3411840.50000',
        'gotOut': '3411840.50000',
        'expectedOut': '3411840.50000',
    },
    {
        'type': 'success',
        'f1': '9212928.00000',
        'f2': '1.00000',
        'f3': '9212929.00000',
        'gotOut': '9212929.00000',
        'expectedOut': '9212929.00000',
    },
    {
        'type': 'success',
        'f1': '1918592.00000',
        'f2': '0.50000',
        'f3': '1918592.50000',
        'gotOut': '1918592.50000',
        'expectedOut': '1918592.50000',
    },
    {
        'type': 'success',
        'f1': '15239168.00000',
        'f2': '1.00000',
        'f3': '15239169.00000',
        'gotOut': '15239169.00000',
        'expectedOut': '15239169.00000',
    },
    {
        'type': 'success',
        'f1': '5811328.00000',
        'f2': '0.50000',
        'f3': '5811328.50000',
        'gotOut': '5811328.50000',
        'expectedOut': '5811328.50000',
    },
    {
        'type': 'success',
        'f1': '11485312.00000',
        'f2': '1.00000',
        'f3': '11485313.00000',
        'gotOut': '11485313.00000',
        'expectedOut': '11485313.00000',
    },
    {
        'type': 'success',
        'f1': '2705920.00000',
        'f2': '1.00000',
        'f3': '2705921.00000',
        'gotOut': '2705921.00000',
        'expectedOut': '2705921.00000',
    },
    {
        'type': 'success',
        'f1': '8139904.00000',
        'f2': '1.00000',
        'f3': '8139905.00000',
        'gotOut': '8139905.00000',
        'expectedOut': '8139905.00000',
    },
    {
        'type': 'success',
        'f1': '7835264.00000',
        'f2': '0.50000',
        'f3': '7835264.50000',
        'gotOut': '7835264.50000',
        'expectedOut': '7835264.50000',
    },
    {
        'type': 'success',
        'f1': '3207040.00000',
        'f2': '0.50000',
        'f3': '3207040.50000',
        'gotOut': '3207040.50000',
        'expectedOut': '3207040.50000',
    },
    {
        'type': 'success',
        'f1': '4201600.00000',
        'f2': '0.50000',
        'f3': '4201600.50000',
        'gotOut': '4201600.50000',
        'expectedOut': '4201600.50000',
    },
    {
        'type': 'success',
        'f1': '8286208.00000',
        'f2': '1.00000',
        'f3': '8286209.00000',
        'gotOut': '8286209.00000',
        'expectedOut': '8286209.00000',
    },
    {
        'type': 'success',
        'f1': '3779072.00000',
        'f2': '0.50000',
        'f3': '3779072.50000',
        'gotOut': '3779072.50000',
        'expectedOut': '3779072.50000',
    },
    {
        'type': 'success',
        'f1': '12883072.00000',
        'f2': '1.00000',
        'f3': '12883073.00000',
        'gotOut': '12883073.00000',
        'expectedOut': '12883073.00000',
    },
    {
        'type': 'success',
        'f1': '5478784.00000',
        'f2': '0.50000',
        'f3': '5478784.50000',
        'gotOut': '5478784.50000',
        'expectedOut': '5478784.50000',
    },
    {
        'type': 'success',
        'f1': '2519424.00000',
        'f2': '0.50000',
        'f3': '2519424.50000',
        'gotOut': '2519424.50000',
        'expectedOut': '2519424.50000',
    },
    {
        'type': 'success',
        'f1': '12701056.00000',
        'f2': '1.00000',
        'f3': '12701057.00000',
        'gotOut': '12701057.00000',
        'expectedOut': '12701057.00000',
    },
    {
        'type': 'success',
        'f1': '5900544.00000',
        'f2': '0.50000',
        'f3': '5900544.50000',
        'gotOut': '5900544.50000',
        'expectedOut': '5900544.50000',
    },
    {
        'type': 'success',
        'f1': '3753600.00000',
        'f2': '0.50000',
        'f3': '3753600.50000',
        'gotOut': '3753600.50000',
        'expectedOut': '3753600.50000',
    },
    {
        'type': 'success',
        'f1': '3470336.00000',
        'f2': '0.50000',
        'f3': '3470336.50000',
        'gotOut': '3470336.50000',
        'expectedOut': '3470336.50000',
    },
    {
        'type': 'success',
        'f1': '10129792.00000',
        'f2': '1.00000',
        'f3': '10129793.00000',
        'gotOut': '10129793.00000',
        'expectedOut': '10129793.00000',
    },
    {
        'type': 'success',
        'f1': '3230208.00000',
        'f2': '0.50000',
        'f3': '3230208.50000',
        'gotOut': '3230208.50000',
        'expectedOut': '3230208.50000',
    },
    {
        'type': 'success',
        'f1': '6380800.00000',
        'f2': '1.00000',
        'f3': '6380801.00000',
        'gotOut': '6380801.00000',
        'expectedOut': '6380801.00000',
    },
    {
        'type': 'success',
        'f1': '16435968.00000',
        'f2': '1.00000',
        'f3': '16435969.00000',
        'gotOut': '16435969.00000',
        'expectedOut': '16435969.00000',
    },
    {
        'type': 'success',
        'f1': '2358272.00000',
        'f2': '0.50000',
        'f3': '2358272.50000',
        'gotOut': '2358272.50000',
        'expectedOut': '2358272.50000',
    },
    {
        'type': 'success',
        'f1': '1022720.00000',
        'f2': '1.00000',
        'f3': '1022721.00000',
        'gotOut': '1022721.00000',
        'expectedOut': '1022721.00000',
    },
    {
        'type': 'success',
        'f1': '11365504.00000',
        'f2': '1.00000',
        'f3': '11365505.00000',
        'gotOut': '11365505.00000',
        'expectedOut': '11365505.00000',
    },
    {
        'type': 'success',
        'f1': '11114880.00000',
        'f2': '1.00000',
        'f3': '11114881.00000',
        'gotOut': '11114881.00000',
        'expectedOut': '11114881.00000',
    },
    {
        'type': 'success',
        'f1': '5614464.00000',
        'f2': '1.00000',
        'f3': '5614465.00000',
        'gotOut': '5614465.00000',
        'expectedOut': '5614465.00000',
    },
    {
        'type': 'success',
        'f1': '1831296.00000',
        'f2': '1.00000',
        'f3': '1831297.00000',
        'gotOut': '1831297.00000',
        'expectedOut': '1831297.00000',
    },
    {
        'type': 'success',
        'f1': '2099200.00000',
        'f2': '0.50000',
        'f3': '2099200.50000',
        'gotOut': '2099200.50000',
        'expectedOut': '2099200.50000',
    },
    {
        'type': 'success',
        'f1': '5435776.00000',
        'f2': '1.00000',
        'f3': '5435777.00000',
        'gotOut': '5435777.00000',
        'expectedOut': '5435777.00000',
    },
    {
        'type': 'success',
        'f1': '3120128.00000',
        'f2': '1.00000',
        'f3': '3120129.00000',
        'gotOut': '3120129.00000',
        'expectedOut': '3120129.00000',
    },
    {
        'type': 'success',
        'f1': '8546688.00000',
        'f2': '1.00000',
        'f3': '8546689.00000',
        'gotOut': '8546689.00000',
        'expectedOut': '8546689.00000',
    },
    {
        'type': 'success',
        'f1': '8132480.00000',
        'f2': '0.50000',
        'f3': '8132480.50000',
        'gotOut': '8132480.50000',
        'expectedOut': '8132480.50000',
    },
    {
        'type': 'success',
        'f1': '8412544.00000',
        'f2': '1.00000',
        'f3': '8412545.00000',
        'gotOut': '8412545.00000',
        'expectedOut': '8412545.00000',
    },
    {
        'type': 'success',
        'f1': '7697792.00000',
        'f2': '0.50000',
        'f3': '7697792.50000',
        'gotOut': '7697792.50000',
        'expectedOut': '7697792.50000',
    },
    {
        'type': 'success',
        'f1': '4372864.00000',
        'f2': '1.00000',
        'f3': '4372865.00000',
        'gotOut': '4372865.00000',
        'expectedOut': '4372865.00000',
    },
    {
        'type': 'success',
        'f1': '5412608.00000',
        'f2': '1.00000',
        'f3': '5412609.00000',
        'gotOut': '5412609.00000',
        'expectedOut': '5412609.00000',
    },
    {
        'type': 'success',
        'f1': '8942592.00000',
        'f2': '1.00000',
        'f3': '8942593.00000',
        'gotOut': '8942593.00000',
        'expectedOut': '8942593.00000',
    },
    {
        'type': 'success',
        'f1': '8549760.00000',
        'f2': '1.00000',
        'f3': '8549761.00000',
        'gotOut': '8549761.00000',
        'expectedOut': '8549761.00000',
    },
    {
        'type': 'success',
        'f1': '4253568.00000',
        'f2': '1.00000',
        'f3': '4253569.00000',
        'gotOut': '4253569.00000',
        'expectedOut': '4253569.00000',
    },
    {
        'type': 'success',
        'f1': '4231552.00000',
        'f2': '0.50000',
        'f3': '4231552.50000',
        'gotOut': '4231552.50000',
        'expectedOut': '4231552.50000',
    },
    {
        'type': 'success',
        'f1': '1454208.00000',
        'f2': '1.00000',
        'f3': '1454209.00000',
        'gotOut': '1454209.00000',
        'expectedOut': '1454209.00000',
    },
    {
        'type': 'success',
        'f1': '9076352.00000',
        'f2': '1.00000',
        'f3': '9076353.00000',
        'gotOut': '9076353.00000',
        'expectedOut': '9076353.00000',
    },
    {
        'type': 'success',
        'f1': '2041472.00000',
        'f2': '1.00000',
        'f3': '2041473.00000',
        'gotOut': '2041473.00000',
        'expectedOut': '2041473.00000',
    },
]